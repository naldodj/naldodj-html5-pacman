<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Pacman</title>
        <style>
            @font-face {
                      font-family: 'BDCartoonShoutRegular';
                      src: url('./BD_Cartoon_Shout-webfont.ttf') format('truetype');
            }

            * {
                      margin: 0;
                      padding: 0;
                      box-sizing: border-box;
            }

            body {
                      background: #000;
                      overflow: hidden;
                      touch-action: none;
                      font-family: 'BDCartoonShoutRegular', sans-serif;
            }

            #game-container {
                      position: fixed;
                      top: 0;
                      left: 0;
                      width: 100vw;
                      height: 100vh;
                      display: flex;
                      justify-content: center;
                      align-items: center;
            }

            #pacman {
                      position: relative;
                      width: 560px; /* Dimensão fixa para teste */
                      height: 620px; /* Dimensão fixa para teste */
                      max-width: 100%;
                      max-height: 100%;
                      aspect-ratio: 560/620;
            }

            #pacman canvas {
                      width: 100%;
                      height: 100%;
                      display: block; /* Garante que o canvas seja visível */
            }

            #shim {
                      font-family: 'BDCartoonShoutRegular';
                      position: absolute;
                      visibility: hidden;
            }

            #start-message {
                      position: fixed;
                      top: 50%;
                      left: 50%;
                      transform: translate(-50%, -50%);
                      color: #FF0;
                      font-size: 4vmin;
                      text-shadow: 2px 2px 2px rgba(0,0,0,0.5);
                      pointer-events: none;
                      display: none;
            }

            @media (orientation: portrait) {
                      #pacman {
                                  transform: rotate(90deg);
                                  max-width: 100vh;
                                  max-height: 100vw;
                      }

                      #start-message {
                                  font-size: 6vmin;
                      }
            }
        </style>
        <script src="./pacman.js"></script>
        <script src="./modernizr-1.5.min.js"></script>
    </head>

    <body>
        <div id="game-container">
            <div id="pacman"></div>
        </div>
        <div id="shim">shim for font face</div>
        <div id="start-message">Press N to Start</div>
        <!-- Inicialização do jogo -->
        <script>
            document.addEventListener('DOMContentLoaded', function() {
              console.log("DOM carregado, iniciando o jogo...");
              var pacmanContainer = document.getElementById('pacman');
              if (!pacmanContainer) {
                          console.error("Contêiner #pacman não encontrado!");
                          return;
              }
              var audioRoot = "./";
              try {
                          PACMAN.init(pacmanContainer, audioRoot);
              } catch (e) {
                          console.error("Erro ao inicializar o PACMAN:", e);
              }

            });
        </script>
    </body>
</html>
